<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Hungry Hungry People</title>
    <!--<script type="text/javascript" src="db.js"></script>-->
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">

        var socket = io.connect('/');

        socket.on('connect', function() {
            console.log("Connected");
        });

        // Receive from any event
        socket.on('chatmessage', function (data) {
            console.log(data);
            document.getElementById('messages').innerHTML = "" + data +
            + "" + document.getElementById('messages').innerHTML;
        });

        var sendmessage = function(message) {
            console.log("chatmessage: " + message);
            socket.emit('chatmessage', message);
        };


        var letsFood = function (tag) {
            console.log("someone want's " + tag);
            var data = {};
            data[tag.value] = tag.checked;
            //socket.emit('cuisinechosen', data);
        };

        var getCuisineChoice = function () {
            var checkedValues = [];
            var cuisineELements = document.getElementsByClassName('cuisine');
            for (var i = 0; cuisineELements[i]; i++){
                if(cuisineELements[i].checked){
                    checkedValues.push(cuisineELements[i].value);
                }
            }
            console.log(checkedValues);
            userData.CuisineChoice = checkedValues;
            //emit here
        };

        var getHungerChoice = function(){

        };

        var getPriceChoice = function(){

        };

        var checkLink = function (){
            var link = document.getElementById('link').value;
            //check the database for the group order
        };

        var emitGroupDat = function(data){
            socket.emit('neworderreq', data);
        };

        var userData = {};

    </script>
        </head>
<body>
<div>
    <div>
        <h1 onclick="createOrder()" style="background: yellow;">
            Start a new order
        </h1>
    </div>

    <div>
        <h1 onclick="joinOrder()" style="background: yellow">
            Join an existing order
        </h1>
    </div>
</div>

<div>
    <div>

    </div>
</div>

<div>
    <h2>How hungry are you?</h2>
    <form>
        <input class="hungry" type="radio" name="howhungry" value="Starving" > I'm Starving
        <br>
        <input class="hungry" type="radio" name="howhungry" value="Moderate" > I'm Moderately Hungry
        <br>
        <input class="hungry" type="radio" name="howhungry" value="I'm Okay" > I'm Okay..
    </form>
    <br>
    <div class="next" onclick="getHungerChoice();"> Next </div>
</div>

<div>
    <h2>What's your price range?</h2>
    <form>
        <input class="range" type="radio" name="howhungry" value="1" > $
        <br>
        <input class="range" type="radio" name="howhungry" value="2" > $$
        <br>
        <input class="range" type="radio" name="howhungry" value="3" > $$$
    </form>
    <br>
    <div class="next" onclick="getPriceChoice();"> Next </div>
</div>

<div>
    <h2> What would you like to eat? </h2>
    <form>
        <input class="cuisine" type="checkbox" name="cuisines" value="Chinese" id="c1"> Chinese food
        <br>
        <input class="cuisine" type="checkbox" name="cuisines" value="Italian" id="c1"> Italian food
        <br>
        <input class="cuisine" type="checkbox" name="cuisines" value="American" id="c1"> American food
        <br>
        <input class="cuisine" type="checkbox" name="cuisines" value="Thai" id="c1"> Thai food
    </form>
    <br>
    <div class="next" onclick="getCuisineChoice();"> Next </div>
</div>

<div>
    <h2> Are you willing to be the point person?</h2>
    <form>
        <input class="pointvalue" type="checkbox" name="yes" value="true"> Yes
        <br>
        <input class="pointvalue" type="checkbox" name="no" value="false"> No
    </form>
    <br>
    <div class="next" onclick="getCuisineChoice();"> Next </div>
</div>

<div style="display: none">
    <!--<h2>Enter your order ID</h2>-->
    <form id="oid">
        <input type="text" id="orderid" value = "Enter the order ID" size="30" maxlength="70">
        <br>
        <input type="button" id="link" onclick="checkLink();">
    </form>
</div>

<br>
<div onclick="emitGroupDat();">Create Group</div>
<br>
<div onclick="emitNewUserDat();">Join Group</div>
</body>
</html>